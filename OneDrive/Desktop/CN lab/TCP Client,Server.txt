package src.bin;

import java.io.*;
import java.net.*;
import java.nio.file.*;
public class TCPServer
{
public static void main(String[] args) throws IOException
	{
		ServerSocket server;
		DataOutputStream out = null;
		DataInputStream in;
		try
		{
			server = new ServerSocket(7000, 1); //port number and num of connections
			System.out.println("Server Waiting for client");
			Socket socket = server.accept();
			System.out.println("Client connected ");
			in = new DataInputStream(socket.getInputStream());
			out = new DataOutputStream(socket.getOutputStream());
			String fileName = in.readUTF();
			System.out.println("File Requested is : " + fileName+" "+Paths.get(fileName));
			byte[] filedata = Files.readAllBytes(Paths.get(fileName));
			String fileContent = new String(filedata);
			out.writeUTF(fileContent.toString());
			System.out.println("FILE SENT SUCCESSFULLY");
		}
		catch (Exception e)
		{
			System.out.println(e.getMessage());
			System.out.println("FILE DOESN'T EXISTS ");
		}
	}
}




package src.bin;

import java.io.*;
import java.net.*;
import java.util.Scanner;
public class TCPClient
{
	public static void main(String[] args) throws IOException,InterruptedException
	{
		DataOutputStream out;
		DataInputStream in;
		Scanner scanner = new Scanner(System.in);
		Socket socket = new Socket("127.0.0.1", 7000); //server IP and Port num
		System.out.println("Client Connected to Server");
		System.out.print("\nEnter the filename to request\n");
		String filename = scanner.nextLine();
		in = new DataInputStream(socket.getInputStream()); // it will read the data from the source
		out = new DataOutputStream(socket.getOutputStream()); // it will write the data into the 
		//destination
		out.writeUTF(filename);
		String fileContent = in.readUTF();
		if (fileContent.length() > 0)
			System.out.println(fileContent);
		else
			System.out.println("FILE IS EMPTY");
		scanner.close();
		socket.close();
	}
}














